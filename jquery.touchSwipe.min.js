(function(e){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})(function(e){"use strict";var n="left",t="right",i="up",r="down",l="in",u="out",a="none",f="auto",o="swipe",s="pinch",c="tap",h="doubletap",p="longtap",d="hold",g="horizontal",v="vertical",w="all",T=10,b="start",S="move",m="end",y="cancel",E="ontouchstart"in window,O="TouchSwipe";var x={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(n){var t=e(this),i=t.data(O);if(i&&typeof n==="string"){if(i[n]){return i[n].apply(this,Array.prototype.slice.call(arguments,1))}else{e.error("Method "+n+" does not exist on jQuery.swipe")}}else if(!i&&(typeof n==="object"||!n)){return L.apply(this,arguments)}return t};e.fn.swipe.defaults=x;e.fn.swipe.phases={PHASE_START:b,PHASE_MOVE:S,PHASE_END:m,PHASE_CANCEL:y};e.fn.swipe.directions={LEFT:n,RIGHT:t,UP:i,DOWN:r,IN:l,OUT:u};e.fn.swipe.pageScroll={NONE:a,HORIZONTAL:g,VERTICAL:v,AUTO:f};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:w};function L(n){if(n&&(n.allowPageScroll===undefined&&(n.swipe!==undefined||n.swipeStatus!==undefined))){n.allowPageScroll=a}if(n.click!==undefined&&n.tap===undefined){n.tap=n.click}if(!n){n={}}n=e.extend({},e.fn.swipe.defaults,n);return this.each(function(){var t=e(this);var i=t.data(O);if(!i){i=new M(this,n);t.data(O,i)}})}function M(d,x){var L=E||!x.fallbackToMouseEvents,M=L?"touchstart":"mousedown",D=L?"touchmove":"mousemove",k=L?"touchend":"mouseup",P=L?null:"mouseleave",R="touchcancel";var A=0,I=null,N=0,U=0,H=0,j=1,_=0,Q=0,X=null;var Y=e(d);var q="start";var C=0;var W=null;var F=0,V=0,z=0,G=0,Z=0;var B=null,J=null;try{Y.bind(M,$);Y.bind(R,tn)}catch(K){e.error("events not supported "+M+","+R+" on jQuery.swipe")}this.enable=function(){Y.bind(M,$);Y.bind(R,tn);return Y};this.disable=function(){ln();return Y};this.destroy=function(){ln();Y.data(O,null);return Y};this.option=function(n,t){if(x[n]!==undefined){if(t===undefined){return x[n]}else{x[n]=t}}else{e.error("Option "+n+" does not exist on jQuery.swipe.options")}return null};function $(n){if(Un())return;if(e(n.target).closest(x.excludedElements,Y).length>0)return;var t=n.originalEvent?n.originalEvent:n;var i,r=E?t.touches[0]:t;q=b;if(E){C=t.touches.length}else{n.preventDefault()}A=0;I=null;Q=null;N=0;U=0;H=0;j=1;_=0;W=Xn();X=Cn();In();if(!E||(C===x.fingers||x.fingers===w)||gn()){jn(0,r);F=Kn();if(C==2){jn(1,t.touches[1]);U=H=Vn(W[0].start,W[1].start)}if(x.swipeStatus||x.pinchStatus){i=an(t,q)}}else{i=false}if(i===false){q=y;an(t,q);return i}else{if(x.hold){J=setTimeout(e.proxy(function(){Y.trigger("hold",[t.target]);if(x.hold){i=x.hold.call(Y,t,t.target)}},this),x.longTapThreshold)}Hn(true)}return null}function en(e){var n=e.originalEvent?e.originalEvent:e;if(q===m||q===y||Nn())return;var t,i=E?n.touches[0]:n;var r=_n(i);V=Kn();if(E){C=n.touches.length}if(x.hold)clearTimeout(J);q=S;if(C==2){if(U==0){jn(1,n.touches[1]);U=H=Vn(W[0].start,W[1].start)}else{_n(n.touches[1]);H=Vn(W[0].end,W[1].end);Q=Gn(W[0].end,W[1].end)}j=zn(U,H);_=Math.abs(U-H)}if(C===x.fingers||x.fingers===w||!E||gn()){I=Jn(r.start,r.end);pn(e,I);A=Zn(r.start,r.end);N=Fn();Yn(I,A);if(x.swipeStatus||x.pinchStatus){t=an(n,q)}if(!x.triggerOnTouchEnd||x.triggerOnTouchLeave){var l=true;if(x.triggerOnTouchLeave){var u=$n(this);l=et(r.end,u)}if(!x.triggerOnTouchEnd&&l){q=un(S)}else if(x.triggerOnTouchLeave&&!l){q=un(m)}if(q==y||q==m){an(n,q)}}}else{q=y;an(n,q)}if(t===false){q=y;an(n,q)}}function nn(e){var n=e.originalEvent;if(E){if(n.touches.length>0){An();return true}}if(Nn()){C=G}e.preventDefault();V=Kn();N=Fn();if(sn()){q=y;an(n,q)}else if(x.triggerOnTouchEnd||x.triggerOnTouchEnd==false&&q===S){q=m;an(n,q)}else if(!x.triggerOnTouchEnd&&yn()){q=m;fn(n,q,c)}else if(q===S){q=y;an(n,q)}Hn(false);return null}function tn(){C=0;V=0;F=0;U=0;H=0;j=1;In();Hn(false)}function rn(e){var n=e.originalEvent;if(x.triggerOnTouchLeave){q=un(m);an(n,q)}}function ln(){Y.unbind(M,$);Y.unbind(R,tn);Y.unbind(D,en);Y.unbind(k,nn);if(P){Y.unbind(P,rn)}Hn(false)}function un(e){var n=e;var t=hn();var i=on();var r=sn();if(!t||r){n=y}else if(i&&e==S&&(!x.triggerOnTouchEnd||x.triggerOnTouchLeave)){n=m}else if(!i&&e==m&&x.triggerOnTouchLeave){n=y}return n}function an(e,n){var t=undefined;if(bn()||Tn()){t=fn(e,n,o)}else if((vn()||gn())&&t!==false){t=fn(e,n,s)}if(Pn()&&t!==false){t=fn(e,n,h)}else if(Rn()&&t!==false){t=fn(e,n,p)}else if(kn()&&t!==false){t=fn(e,n,c)}if(n===y){tn(e)}if(n===m){if(E){if(e.touches.length==0){tn(e)}}else{tn(e)}}return t}function fn(a,f,d){var g=undefined;if(d==o){Y.trigger("swipeStatus",[f,I||null,A||0,N||0,C]);if(x.swipeStatus){g=x.swipeStatus.call(Y,a,f,I||null,A||0,N||0,C);if(g===false)return false}if(f==m&&wn()){Y.trigger("swipe",[I,A,N,C]);if(x.swipe){g=x.swipe.call(Y,a,I,A,N,C);if(g===false)return false}switch(I){case n:Y.trigger("swipeLeft",[I,A,N,C]);if(x.swipeLeft){g=x.swipeLeft.call(Y,a,I,A,N,C)}break;case t:Y.trigger("swipeRight",[I,A,N,C]);if(x.swipeRight){g=x.swipeRight.call(Y,a,I,A,N,C)}break;case i:Y.trigger("swipeUp",[I,A,N,C]);if(x.swipeUp){g=x.swipeUp.call(Y,a,I,A,N,C)}break;case r:Y.trigger("swipeDown",[I,A,N,C]);if(x.swipeDown){g=x.swipeDown.call(Y,a,I,A,N,C)}break}}}if(d==s){Y.trigger("pinchStatus",[f,Q||null,_||0,N||0,C,j]);if(x.pinchStatus){g=x.pinchStatus.call(Y,a,f,Q||null,_||0,N||0,C,j);if(g===false)return false}if(f==m&&dn()){switch(Q){case l:Y.trigger("pinchIn",[Q||null,_||0,N||0,C,j]);if(x.pinchIn){g=x.pinchIn.call(Y,a,Q||null,_||0,N||0,C,j)}break;case u:Y.trigger("pinchOut",[Q||null,_||0,N||0,C,j]);if(x.pinchOut){g=x.pinchOut.call(Y,a,Q||null,_||0,N||0,C,j)}break}}}if(d==c){if(f===y||f===m){clearTimeout(B);clearTimeout(J);if(En()&&!Ln()){Z=Kn();B=setTimeout(e.proxy(function(){Z=null;Y.trigger("tap",[a.target]);if(x.tap){g=x.tap.call(Y,a,a.target)}},this),x.doubleTapThreshold)}else{Z=null;Y.trigger("tap",[a.target]);if(x.tap){g=x.tap.call(Y,a,a.target)}}}}else if(d==h){if(f===y||f===m){clearTimeout(B);Z=null;Y.trigger("doubletap",[a.target]);if(x.doubleTap){g=x.doubleTap.call(Y,a,a.target)}}}else if(d==p){if(f===y||f===m){clearTimeout(B);Z=null;Y.trigger("longtap",[a.target]);if(x.longTap){g=x.longTap.call(Y,a,a.target)}}}return g}function on(){var e=true;if(x.threshold!==null){e=A>=x.threshold}return e}function sn(){var e=false;if(x.cancelThreshold!==null&&I!==null){e=qn(I)-A>=x.cancelThreshold}return e}function cn(){if(x.pinchThreshold!==null){return _>=x.pinchThreshold}return true}function hn(){var e;if(x.maxTimeThreshold){if(N>=x.maxTimeThreshold){e=false}else{e=true}}else{e=true}return e}function pn(e,l){if(x.allowPageScroll===a||gn()){e.preventDefault()}else{var u=x.allowPageScroll===f;switch(l){case n:if(x.swipeLeft&&u||!u&&x.allowPageScroll!=g){e.preventDefault()}break;case t:if(x.swipeRight&&u||!u&&x.allowPageScroll!=g){e.preventDefault()}break;case i:if(x.swipeUp&&u||!u&&x.allowPageScroll!=v){e.preventDefault()}break;case r:if(x.swipeDown&&u||!u&&x.allowPageScroll!=v){e.preventDefault()}break}}}function dn(){var e=Sn();var n=mn();var t=cn();return e&&n&&t}function gn(){return!!(x.pinchStatus||x.pinchIn||x.pinchOut)}function vn(){return!!(dn()&&gn())}function wn(){var e=hn();var n=on();var t=Sn();var i=mn();var r=sn();var l=!r&&i&&t&&n&&e;return l}function Tn(){return!!(x.swipe||x.swipeStatus||x.swipeLeft||x.swipeRight||x.swipeUp||x.swipeDown)}function bn(){return!!(wn()&&Tn())}function Sn(){return C===x.fingers||x.fingers===w||!E}function mn(){return W[0].end.x!==0}function yn(){return!!x.tap}function En(){return!!x.doubleTap}function On(){return!!x.longTap}function xn(){if(Z==null){return false}var e=Kn();return En()&&e-Z<=x.doubleTapThreshold}function Ln(){return xn()}function Mn(){return(C===1||!E)&&(isNaN(A)||A===0)}function Dn(){return N>x.longTapThreshold&&A<T}function kn(){return!!(Mn()&&yn())}function Pn(){return!!(xn()&&En())}function Rn(){return!!(Dn()&&On())}function An(){z=Kn();G=event.touches.length+1}function In(){z=0;G=0}function Nn(){var e=false;if(z){var n=Kn()-z;if(n<=x.fingerReleaseThreshold){e=true}}return e}function Un(){return!!(Y.data(O+"_intouch")===true)}function Hn(e){if(e===true){Y.bind(D,en);Y.bind(k,nn);if(P){Y.bind(P,rn)}}else{Y.unbind(D,en,false);Y.unbind(k,nn,false);if(P){Y.unbind(P,rn,false)}}Y.data(O+"_intouch",e===true)}function jn(e,n){var t=n.identifier!==undefined?n.identifier:0;W[e].identifier=t;W[e].start.x=W[e].end.x=n.pageX||n.clientX;W[e].start.y=W[e].end.y=n.pageY||n.clientY;return W[e]}function _n(e){var n=e.identifier!==undefined?e.identifier:0;var t=Qn(n);t.end.x=e.pageX||e.clientX;t.end.y=e.pageY||e.clientY;return t}function Qn(e){for(var n=0;n<W.length;n++){if(W[n].identifier==e){return W[n]}}}function Xn(){var e=[];for(var n=0;n<=5;n++){e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return e}function Yn(e,n){n=Math.max(n,qn(e));X[e].distance=n}function qn(e){if(X[e])return X[e].distance;return undefined}function Cn(){var e={};e[n]=Wn(n);e[t]=Wn(t);e[i]=Wn(i);e[r]=Wn(r);return e}function Wn(e){return{direction:e,distance:0}}function Fn(){return V-F}function Vn(e,n){var t=Math.abs(e.x-n.x);var i=Math.abs(e.y-n.y);return Math.round(Math.sqrt(t*t+i*i))}function zn(e,n){var t=n/e*1;return t.toFixed(2)}function Gn(){if(j<1){return u}else{return l}}function Zn(e,n){return Math.round(Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)))}function Bn(e,n){var t=e.x-n.x;var i=n.y-e.y;var r=Math.atan2(i,t);var l=Math.round(r*180/Math.PI);if(l<0){l=360-Math.abs(l)}return l}function Jn(e,l){var u=Bn(e,l);if(u<=45&&u>=0){return n}else if(u<=360&&u>=315){return n}else if(u>=135&&u<=225){return t}else if(u>45&&u<135){return r}else{return i}}function Kn(){var e=new Date;return e.getTime()}function $n(n){n=e(n);var t=n.offset();var i={left:t.left,right:t.left+n.outerWidth(),top:t.top,bottom:t.top+n.outerHeight()};return i}function et(e,n){return e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom}}});